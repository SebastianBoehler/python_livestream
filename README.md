# Python Livestream Toolkit

Automate YouTube livestreams with scheduled text-to-speech overlays and background music. The project can stream either a static image or any URL while injecting news updates generated by your preferred language model.

## Features
- Stream static images or websites directly to YouTube or Twitch using FFmpeg
- Schedule news segments with TTS audio overlays
- Loop background music so the stream never goes silent
- Easily switch between several TTS models and language models

## Supported TTS Models
- **Google Gemini TTS** (`tts/gemini.py`)
- **Resemble AI Chatterbox** (`tts/chatterbox.py`)
- **Hugging Face Inference API** (`tts/huggingface.py`)
- **Sesame CSM 1B** (`tts/sesame_csm.py`)
- **ElevenLabs API** (`tts/elevenlabs.py`)

## Supported Language Models
- **Google Gemini** (`llm/gemini.py`)
- **xAI Grok** (`llm/grok.py`)

## Quick Start
### 1. Clone and install dependencies
```bash
git clone https://github.com/yourusername/python_livestream.git
cd python_livestream
pip install -r requirements.txt
playwright install
```

### 2. Configure environment
Create a `.env` file (see `.env.example`) and set at least:
```dotenv
STREAM_PLATFORM=youtube             # youtube or twitch
YOUTUBE_STREAM_KEY=<your-youtube-key>
TWITCH_STREAM_KEY=<your-twitch-key>
GEMINI_API_KEY=<your-gemini-key>
HF_TOKEN=<huggingface-token>      # required for Hugging Face TTS
XAI_API_KEY=<grok-token>          # required for Grok LLM
ELEVENLABS_API_KEY=<11labs-key>   # required for ElevenLabs TTS
STREAM_URL=https://example.com    # optional website to stream
NEWS_INTERVAL_MINUTES=30          # minutes between news updates
STREAM_FPS=1                      # capture rate for website streaming
```

### 3. Run a livestream
To stream the static `screenshot.png` with background music:
```bash
python main.py
```

To livestream a website with scheduled news segments:
```bash
python stream_url.py
```

## Additional Notes
- FFmpeg must be installed and available in your PATH.
- Set `STREAM_PLATFORM=twitch` and provide `TWITCH_STREAM_KEY` to stream to Twitch.
- Optionally override `TWITCH_RTMP_URL` if you need a specific ingest server.
- The `package-lock.json` file, if present, may be outdated because many of our projects use [bun](https://bun.sh) for package management.
- Replace `screenshot.png` and `audio/song.mp3` with your own assets.
- The streaming scripts default to a video bitrate of **6800 Kbps**, the rate YouTube recommends for 1080p streams.

## Contributing
Please run the following before submitting a pull request:
```bash
python -m py_compile $(git ls-files '*.py')
```

## License
MIT
